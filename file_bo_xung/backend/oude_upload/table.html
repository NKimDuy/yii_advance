<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<!-- javascript/jquery -->
		<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
		<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
		<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
		<!--------------------------------------------------------------------------------->
		
		<!-- datatable -->
		<script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
		<link rel="stylesheet" href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css" >
		<!---->
		
		<!-- bootstrap 4 -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
		<!---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
		
		<!-- tooltipter -->
			<link rel="stylesheet" href="css/tooltipster/tooltipster.bundle.min.css">
			<link rel="stylesheet" href="css/tooltipster/plugins/tooltipster/sideTip/themes/tooltipster-sideTip-light.min.css">
			<script src="js/tooltipster/tooltipster.bundle.min.js" ></script>
		<!---->
		
		<style>
			.error {
				color:red;
				border: 1px solid transparent;
				padding: 0.3em;
			}
			
			.require {
				color: red;
			}
		</style>
		
	</head>
	<body>
		<div class="container">
			
			<div class="row">
				<div class="col">
				
					
						<label for="tableName">Các bảng hiện có trong cơ sở dữ liệu</label>
						<select class="custom-select form-control" id="tableName"></select>
						<button id="btnAdd" class="btn btn-primary">Thêm dòng mới</button>
					
					
				</div>
				
			</div>
			<div class="row">
				<table id="example"></table>
			</div>
			
			
			<div id="dialogDelete" title="Delete Row">
				<p id="mssvDelete"></p>
			</div>
			
			<div id="dialog" style="display:none;">
				<form>
					<fieldset>
						<div class="form-group">
						
							<label for="txtStt">STT</label><span class ="require"> *</span>
							<input class="form-control" type="text" name="stt" id="txtStt" />
							
							<label for="txtStt">MSSV</label><span class ="require"> *</span>
							<input class="form-control" type="text" name="mssv" id="txtMssv" disabled />
							
							<label for="txtMadvlk">Mã đơn vị liên kết</label><span class ="require"> *</span>
							<input class="form-control" type="text" name="maDvlk" id="txtMadvlk" />
							
							<label for="txtTendvlk">Tên đơn vị liên kết</label><span class ="require"> *</span>
							<input class="form-control" type="text" name="tenDvlk" id="txtTendvlk" />
							
							<label for="txtHo">Họ</label><span class ="require"> *</span>
							<input class="form-control" type="text" name="ho" id="txtHo" />
							
							<label for="txtTen">Tên</label><span class ="require"> *</span>
							<input class="form-control" type="text" name="ten" id="txtTen" />
							
							<label for="txtNgaySinh">Ngày sinh</label><span class ="require"> *</span>
							<input class="form-control" type="text" name="ngaySinh" id="txtNgaySinh" />
							
							<label for="txtNoiSinh">Nơi Sinh</label><span class ="require"> *</span>
							<input class="form-control" type="text" name="noiSinh" id="txtNoiSinh" />
							
							
							<label for="txtGioiTinh">Giới tính</label>
							<select class="custom-select" id="txtGioiTinh">
								<option value="Nam" selected>Nam</option>
								<option value="Nữ">Nữ</option>
							</select>
							
							<label for="txtDanToc">Dân tộc</label><span class ="require"> *</span>
							<input class="form-control" type="text" name="danToc" id="txtDanToc" />
							
							<label for="txtQuocTich">Quốc tịch</label><span class ="require"> *</span>
							<input class="form-control" type="text" name="quocTich" id="txtQuocTich" />
							
							<label for="txtNganhDaoTao">Ngành đào tạo</label><span class ="require"> *</span>
							<input class="form-control" type="text" name="nganhDaoTao" id="txtNganhDaoTao" />
							
							<label for="txtGiayKhaiSinh">Giấy khai sinh</label><span class ="require"> *</span>
							<input class="form-control" type="text" name="giayKhaiSinh" id="txtGiayKhaiSinh" />
							
							<label for="txtBangCap">Bằng cấp</label><span class ="require"> *</span>
							<input class="form-control" type="text" name="bangCap" id="txtBangCap" />
							
							
							<label for="txtHinh">Hình</label>
							<select class="custom-select" id="txtHinh">
								<option value="HỢP LỆ" selected>HỢP LỆ</option>
								<option value="BỔ SUNG" >BỔ SUNG</option>
							</select>
							
							<label for="txtPdkxcb">Phiếu đăng kí xét cấp bằng</label>
							<select class="custom-select" id="txtPdkxcb">
								<option value="HỢP LỆ" selected>HỢP LỆ</option>
								<option value="BỔ SUNG">BỔ SUNG</option>
							</select>
							
							<label for="txtCtdt">Chương trình đào tạo</label>
							<select class="custom-select" id="txtCtdt">
								<option value="HOÀN THÀNH" selected>HOÀN THÀNH</option>
								<option value="CHƯA HOÀN THÀNH">CHƯA HOÀN THÀNH</option>
							</select>
							
							<label for="txtHtdt">Hình thức đào tạo</label> <span class ="require"> *</span>
							<input class="form-control" type="text" name="htdt" id="txtHtdt" />
							
							<label for="txtDiem">Điểm</label><span class ="require"> *</span>
							<input class="form-control" type="text" name="diem" id="txtDiem" />
							
							<label for="txtXepLoai">Xếp loại</label><span class ="require"> *</span>
							<input class="form-control" type="text" name="xepLoai" id="txtXepLoai" />
							
							<label for="txtDktn">Điều kiện tốt nghiệp</label>
							<select class="custom-select" id="txtDktn">
								<option value="Đủ điều kiện" selected>Đủ điều kiện</option>
								<option value="Chưa đủ điều kiện">Chưa đủ điều kiện</option>
							</select>
							
							<label for="txtHokd">Họ không dấu</label><span class ="require"> *</span>
							<input class="form-control" type="text" name="hoKd" id="txtHoKd" />
							
							<label for="txtTenkd">Tên không dấu</label><span class ="require"> *</span>
							<input class="form-control" type="text" name="tenKd" id="txtTenKd" />
							
							<label for="txtHoTenKd">Họ và tên không dấu</label><span class ="require"> *</span>
							<input class="form-control" type="text" name="hoTenKd" id="txtHoTenKd" />
							
							<label for="txtHocKi">Học kì</label><span class ="require"> *</span>
							<input class="form-control" type="text" name="hocKi" id="txtHocKi" />
							
							<label for="txtCthk">Chi tiết học kì</label><span class ="require"> *</span>
							<input class="form-control" type="text" name="cthk" id="txtCthk" />
							
							<input type="submit" tabindex="-1" style="position:absolute; top:-1000px">
						</div>
					</fieldset>
				</form>
				<p class="error">các trường có dấu ( * ) là bắt buộc.</p>
			</div>
		</div>
		
	</body>
	<script>
		
		function updateTips(text) { // cập nhập trạng thái khi có lỗi xảy ra
			$(".error") // chọn seletor có lớp là error
			.text(text)
			.addClass("ui-state-highlight");
			setTimeout(function() {
				element.removeClass("ui-state-highlight", 1500);
			}, 500 );
		}
		
		function checkLength(element, column, min, max) { // kiểm tra độ dài của trường dữ liệu nhập vào
			if ( element.val().length > max || element.val().length < min ) {
				element.addClass("ui-state-error");
				updateTips("độ dài  " + column + " phải nằm trong khoảng " +
				min + " đến " + max + ".");
				return false;
			} else {
				return true;
			}
		}
		
		function checkRegexp( element, regexp, errorMessage ) { // kiểm tra định dạng của trường nhập vào có hợp lệ không
			if ( !( regexp.test(element.val()))) { // text trả về true nếu chuỗi hợp lệ
				element.addClass("ui-state-error");
				updateTips(errorMessage);
				return false;
			} else {
				element.removeClass("ui-state-error");
				return true;
			}
		}
	
		function regexpForCreateUpdate(strUrl, dialogId) { // hàm dùng chung cho cập nhập và tạo mới dòng, sẽ kiểm tra và gửi dữ liệu sang file php
			var data = [];
			var valid = true;
			valid = valid && checkLength($("#txtMadvlk"),"Mã đơn vị liên kết", 0, 15);
			valid = valid && checkLength($("#txtTendvlk"),"Tên đơn vị liên kết", 0, 500);
			valid = valid && checkLength($("#txtMssv"),"Mã số sinh viên", 0, 15);
			valid = valid && checkLength($("#txtHo"),"Họ", 0, 50);
			valid = valid && checkLength($("#txtTen"),"Tên", 0, 15);
			valid = valid && checkLength($("#txtNgaySinh"),"ngày sinh", 0, 20);
			valid = valid && checkLength($("#txtNoiSinh"),"Nơi sinh", 0, 50);
			valid = valid && checkLength($("#txtDanToc"),"Dân tộc", 0, 15);
			valid = valid && checkLength($("#txtQuocTich"),"Quốc tịch", 0, 50);
			valid = valid && checkLength($("#txtNganhDaoTao"),"Ngành đào tạo", 0, 100);
			valid = valid && checkLength($("#txtGiayKhaiSinh"),"Giấy khai sinh", 0, 50);
			valid = valid && checkLength($("#txtBangCap"),"Bằng cấp", 0, 50);
			valid = valid && checkLength($("#txtHtdt"),"Hình thức đào tạo", 0, 50);
			valid = valid && checkLength($("#txtDiem"),"Điểm", 0, 5);
			valid = valid && checkLength($("#txtXepLoai"),"Xếp loại", 0, 50);
			valid = valid && checkLength($("#txtHoKd"),"Họ không dấu", 0, 50);
			valid = valid && checkLength($("#txtTenKd"),"Tên không dấu", 0, 15);
			valid = valid && checkLength($("#txtHoTenKd"),"Họ và tên không dấu", 0, 100);
			valid = valid && checkLength($("#txtHocKi"),"Học kì ", 0, 50);
			valid = valid && checkLength($("#txtCthk"),"Chi tiết học kì", 0, 50);
			
			//valid = valid && checkRegexp($("#txtMssv"), /^([0-9a-zA-Z])+$/, "Mã số sinh viên bao gồm số hoặc chữ (viết thường hoặc viết hoa)"); // yes
			//valid = valid && checkRegexp($("#txtMadvlk"), /^([0-9a-zA-Z])+$/, "Mã đơn vị liên kết bao gồm số hoặc chữ (viết thường hoặc viết hoa)"); // yes
			//valid = valid && checkRegexp($("#txtTendvlk"), /^([0-9a-zA-Z\s])+$/, "Tên đơn vị liên kết bao gồm số hoặc chữ (viết thường hoặc viết hoa)"); // yes
			//valid = valid && checkRegexp($("#txtHo"), /[^\x20-\x7E]+/g, "Họ bao gồm chữ (viết thường hoặc viết hoa)"); // yes
			//valid = valid && checkRegexp($("#txtTen"), /^([a-zA-Z])+$/, "Tên bao gồm chữ (viết thường hoặc viết hoa)"); // yes
			//valid = valid && checkRegexp($("#txtNoiSinh"), /^([a-zA-Z\s])+$/, "Nơi sinh bao gồm chữ (viết thường hoặc viết hoa)"); // yes
			//valid = valid && checkRegexp($("#txtDanToc"), /^([a-zA-Z\s])+$/, "Dân tộc bao gồm chữ (viết thường hoặc viết hoa)"); // yes
			//valid = valid && checkRegexp($("#txtQuocTich"), /^([a-zA-Z\s])+$/, "Quốc tịch bao gồm chữ (viết thường hoặc viết hoa)"); // yes
			//valid = valid && checkRegexp($("#txtNganhDaoTao"), /^([a-zA-Z\s])+$/, "Ngành đào tạo bao gồm chữ (viết thường hoặc viết hoa)"); // yes
			//valid = valid && checkRegexp($("#txtGiayKhaiSinh"), /^([a-zA-Z\s])+$/, "Giấy khai sinh bao gồm chữ (viết thường hoặc viết hoa)"); // yes
			//valid = valid && checkRegexp($("#txtHtdt"), /^([a-zA-Z\s])+$/, "Hình thức đào tạo bao gồm chữ (viết thường hoặc viết hoa)"); // yes
			//valid = valid && checkRegexp($("#txtDiem"), /^([0-9])+$/, "Điểm phải là số"); // yes
			//valid = valid && checkRegexp($("#txtXepLoai"), /^([a-zA-Z\s])+$/, "Xếp loại đào tạo bao gồm chữ (viết thường hoặc viết hoa)"); // yes
			//valid = valid && checkRegexp($("#txtHoKd"), /^([a-zA-Z\s])+$/, "Họ không dấu bao gồm chữ (viết thường hoặc viết hoa)"); // yes
			//valid = valid && checkRegexp($("#txtTenKd"), /^([a-zA-Z])+$/, "Tên không dấu bao gồm chữ (viết thường hoặc viết hoa)"); // yes
			//valid = valid && checkRegexp($("#txtHoTenKd"), /^([a-zA-Z\s])+$/, "Họ và tên không dấu bao gồm chữ (viết thường hoặc viết hoa)"); // yes
			//valid = valid && checkRegexp($("#txtHocKi"), /^[a-z]([0-9a-z_\s])+$/i, "Học kì gồm các kí tự số, chữ, dấu _, và phải bắt đầu là kí tự");
			//valid = valid && checkRegexp($("#txtBangCap"), /^[a-z]([0-9a-z-\s])+$/i, "Bằng cấp gồm các kí tự số, chữ, dấu -, và phải bắt đầu là kí tự");
			//valid = valid && checkRegexp($("#txtCthk"), /^[a-z]([0-9a-z-\s])+$/i, "Chi tiết học kì gồm các kí tự số, chữ, dấu -, và phải bắt đầu là kí tự");
			
			
			if (valid) { // nếu hợp lệ sẽ chuyển dữ liệu của các thẻ input sang file php
				data.push($("#txtStt").val(),
						$("#txtMadvlk").val(),
						$("#txtTendvlk").val(),
						$("#txtMssv").val(),
						$("#txtHo").val(),
						$("#txtTen").val(),
						$("#txtNgaySinh").val(),
						$("#txtNoiSinh").val(),
						$("#txtGioiTinh").val(),
						$("#txtDanToc").val(),
						$("#txtQuocTich").val(),
						$("#txtNganhDaoTao").val(),
						$("#txtGiayKhaiSinh").val(),
						$("#txtBangCap").val(),
						$("#txtHinh").val(),
						$("#txtPdkxcb").val(),
						$("#txtCtdt").val(),
						$("#txtHtdt").val(),
						$("#txtDiem").val(),
						$("#txtXepLoai").val(),
						$("#txtDktn").val(),
						$("#txtHoKd").val(),
						$("#txtTenKd").val(),
						$("#txtHoTenKd").val(),
						$("#txtHocKi").val(),
						$("#txtCthk").val());
				$.ajax({
					//url: "./UpdateTableAjax.php",
					url: strUrl,
					method: 'post',
					data: {
						"row": data,
						"table_name": $("#tableName").val()
					},
					dataType: "json",
					'success': function(result) {
						//alert(strUrl);
						alert(result);
						
					},
					'complete': function(result){
						//alert(strUrl);
						$(dialogId).dialog( "close" );
						loadTable(); // khi hoàn thành thêm hoặc xóa thì sẽ load lại bảng để lấy dữ liệu mới
					}
				});
			}
			return valid;
		}
	
		function createRow() {
			$("#txtMssv").attr("disabled", false); // cho phép nhập dữ liệu vào mã số sinh viên
			$("#dialog").attr("title", "Create Row"); //thay đổi title của dialog
			$("#txtStt").attr("disabled",true); // vô hiệu hóa cột STT
			$.post({
				url: "./lib/ajax/GetSttDataAjax.php",
				data: {
					"table_name": $("#tableName").val()
				},
				dataType: "json",
				success: result => {
					
					$("#txtStt").val(parseInt(result["MAX(stt)"]) + 1), $("#txtMadvlk").val(""), $("#txtTendvlk").val(""),
					
					$("#txtMssv").val(""), $("#txtHo").val(""), $("#txtTen").val(""),
					
					$("#txtNgaySinh").val(""), $("#txtNoiSinh").val(""),
					
					$("#txtGioiTinh").val(""), $("#txtDanToc").val(""),
					
					$("#txtQuocTich").val(""), $("#txtNganhDaoTao").val(""),
					
					$("#txtGiayKhaiSinh").val(""), $("#txtBangCap").val(""),
					
					/*$("#txtHinh").val(""), $("#txtPdkxcb").val(""),
					
					$("#txtCtdt").val(""),*/ $("#txtHtdt").val(""),
					
					$("#txtDiem").val(""), $("#txtXepLoai").val(""),
					
					/*$("#txtDktn").val(""),*/ $("#txtHoKd").val(""),
					
					$("#txtTenKd").val(""), $("#txtHoTenKd").val(""),
					
					$("#txtHocKi").val(""), $("#txtCthk").val("");
					
					
					
				},
				complete: function(result) {
					$("#dialog").dialog({
						height: 'auto',
						width: 1000,
						modal:true,
						fluid: true,
						my: "center",
						at: "center",
						buttons: {
							"Add": function() {
								regexpForCreateUpdate("./lib/ajax/AddDataTableAjax.php", "#dialog");
								
							},
							"Cancel": function() {
								$( this ).dialog( "close" );
							}
						},
						close: function() {
							$( this ).dialog( "destroy" );
						}
					});
				}
			});
		}
	
		function updateRow(mssv) {
			$("#dialog").attr("title", "Update Row");
			$("#txtStt").attr("disabled",true);
			$.post({
				url: "./lib/ajax/GetOneDataAjax.php",
				data: {
					'mssv':mssv,
					"table_name": $("#tableName").val(),
				},
				dataType: "json",
				success: function(object) {
					//alert(object[0].ma_dvlk);
				
					$("#txtStt").val(object[0].stt), $("#txtMadvlk").val(object[0].ma_dvlk), $("#txtTendvlk").val(object[0].ten_dvlk),
			
					$("#txtMssv").val(object[0].mssv), $("#txtHo").val(object[0].ho), $("#txtTen").val(object[0].ten),
					
					$("#txtNgaySinh").val(object[0].ngay_sinh), $("#txtNoiSinh").val(object[0].noi_sinh),
					
					$("#txtGioiTinh").val(object[0].gioi_tinh), $("#txtDanToc").val(object[0].dan_toc),
					
					$("#txtQuocTich").val(object[0].quoc_tich), $("#txtNganhDaoTao").val(object[0].nganh_dt),
					
					$("#txtGiayKhaiSinh").val(object[0].giay_ks), $("#txtBangCap").val(object[0].bang_cap),
					
					$("#txtHinh").val(object[0].hinh), $("#txtPdkxcb").val(object[0].phieu_dkxcb),
					
					$("#txtCtdt").val(object[0].ct_dt), $("#txtHtdt").val(object[0].hinh_thuc_dt),
					
					$("#txtDiem").val(object[0].diem), $("#txtXepLoai").val(object[0].xep_loai),
					
					$("#txtDktn").val(object[0].dk_tn), $("#txtHoKd").val(object[0].ho_temp),
					
					$("#txtTenKd").val(object[0].ten_temp), $("#txtHoTenKd").val(object[0].temp),
					
					$("#txtHocKi").val(object[0].hk), $("#txtCthk").val(object[0].chi_tiet_hk);
					
					
					$("#dialog").dialog({
						height: 'auto',
						width: 1000,
						modal:true,
						fluid: true,
						my: "center",
						at: "center",
						buttons: {
							"Update": function(){
								regexpForCreateUpdate("./lib/ajax/UpdateTableAjax.php", "#dialog");
							},
							"Cancel": function() {
								$( this ).dialog( "close" );
							}
						},
						close: function() {
							$( this ).dialog( "destroy" );
						}
					});
					
				
				}
			});
			
			
		}
			
		function deleteRow(mssv) {
			$("#mssvDelete").text("delete: " + mssv);
			$("#dialogDelete").dialog({
				height: 'auto',
				width: 'auto',
				modal:true,
				fluid: true,
				my: "center",
				at: "center",
				buttons: {
					"Do you wanna delete ?": function() {
						
						$.post({
							url: "./lib/ajax/DeleteDataTableAjax.php",
							data: {
								"table_name": $("#tableName").val(),
								"mssv": mssv
							},
							dataType: "json",
							success: function() {
								
							}
						});
						$("#dialogDelete").dialog( "close" );
						loadTable(); // khi hoàn thành thêm hoặc xóa thì sẽ load lại bảng để lấy dữ liệu mới
					},
					"Cancel": function() {
						$( this ).dialog( "close" );
					}
				},
				close: function() {
					$( this ).dialog( "destroy" );
				}
			});
		}
	
		function loadTable() {
			
			$("#example tr").remove(); // xóa các dòng của bảng trước khi thêm hoặc sửa
			
			// tạo các cột
			var	addThToTable = "", // thêm các cột vào bảng
				addTdToTable = ""; // thêm các dòng vào bảng
			$.get({
				url:"./lib/ajax/GetTitleTableAjax.php",
				data: {
					"table_name": $("#tableName").val()
				},
				dataType:"json",
				success: function(result) {
					addThToTable = "<thead><tr><th> </th><th> </th>";
					result.forEach(item => {
						
						addThToTable += "<th>" + item + "</th>";
						
					});
					addThToTable += "</tr></thead>";
					//$("#example").append(addThToTable);
				},
				// tạo các dòng
				complete: function() {
					addTdToTable = "<tbody>"; // "";
					$.get({
						url:"./lib/ajax/GetDataTableAjax.php",
						data: {
							"table_name": $("#tableName").val()
						},
						dataType:"json",
						success: function(result) {
							result.forEach(item => {
								addTdToTable += "<tr>"; // +=
								addTdToTable += "<td><a href =" + "javascript:updateRow('" + item.mssv + "');>Update</a></td>"
								//addTdToTable += "<td><a id = '" + item.mssv + "' href = '#'>Update</a></td>"
											 +"<td><a href =" + "javascript:deleteRow('" + item.mssv + "');>Delete</a></td>"
											 + "<td>" + item.stt + "</td>"
											 +"<td>" + item.ma_dvlk + "</td>"
											 +"<td>" + item.ten_dvlk + "</td>"
											 +"<td>" + item.mssv + "</td>"
											 +"<td>" + item.ho + "</td>"
											 +"<td>" + item.ten + "</td>"
											 +"<td>" + item.ngay_sinh + "</td>"
											 +"<td>" + item.noi_sinh + "</td>"
											 +"<td>" + item.gioi_tinh + "</td>"
											 +"<td>" + item.dan_toc + "</td>"
											 +"<td>" + item.quoc_tich + "</td>"
											 +"<td>" + item.nganh_dt + "</td>"
											 +"<td>" + item.giay_ks + "</td>"
											 +"<td>" + item.bang_cap + "</td>"
											 +"<td>" + item.hinh + "</td>"
											 +"<td>" + item.phieu_dkxcb + "</td>"
											 +"<td>" + item.ct_dt + "</td>"
											 +"<td>" + item.hinh_thuc_dt + "</td>"
											 +"<td>" + item.diem + "</td>"
											 +"<td>" + item.xep_loai + "</td>"
											 +"<td>" + item.dk_tn + "</td>"
											 +"<td>" + item.ho_temp + "</td>"
											 +"<td>" + item.ten_temp + "</td>"
											 +"<td>" + item.temp + "</td>"
											 +"<td>" + item.hk + "</td>"
											 +"<td>" + item.chi_tiet_hk + "</td>";
											
								addTdToTable += "</tr>";
								//$("#example").append(addTdToTable);
								//$("#" + item.mssv).click(() => {
									//updateRow(item);
									//alert(item.mssv);
								//});
							});
							addTdToTable += "</tbody>";
							//alert(addTdToTable);
							$("#example").append(addThToTable+addTdToTable);
							$("#example td").css("text-align","center");
							$('#example').DataTable(); // áp dụng datatable cho bảng.
						}
					});
					
				}
			});
		}
		
		
		
		$(document).ready(function() {
			$.get({
				url: "./lib/ajax/GetAllTableAjax.php",
				dataType: "json",
				success: function(result) {
					
					var option = "";
					result.forEach(item => {
						option += "<option>"+ item.TABLE_NAME +"</option>";
						
					});
					
					$("#tableName").append(option);
					loadTable();
					
				}
			});
			$("#btnAdd").click(() => {
				createRow();
			});
			
			$("#tableName").change(() => {
				loadTable();
			});
			
			$("#txtMssv").tooltipster({
				content: "Mã số sinh viên gồm số và chữ, và có độ dài tối đa là 16 kí tự",
				theme: "tooltipster-light"
			});
			
			$("#txtMadvlk").tooltipster({
				content: "Mã số sinh viên gồm số và chữ, và có độ dài tối đa là 16 kí tự",
				theme: "tooltipster-light"
			});
			
			$("#txtTendvlk").tooltipster({
				content: "Mã số sinh viên gồm số và chữ, và có độ dài tối đa là 16 kí tự",
				theme: "tooltipster-light"
			});
			
			$("#txtHo").tooltipster({
				content: "Mã số sinh viên gồm số và chữ, và có độ dài tối đa là 16 kí tự",
				theme: "tooltipster-light"
			});
			
			$("#txtTen").tooltipster({
				content: "Mã số sinh viên gồm số và chữ, và có độ dài tối đa là 16 kí tự",
				theme: "tooltipster-light"
			});
			
			$("#txtNgaySinh").tooltipster({
				content: "Mã số sinh viên gồm số và chữ, và có độ dài tối đa là 16 kí tự",
				theme: "tooltipster-light"
			});
			
			$("#txtNoiSinh").tooltipster({
				content: "Mã số sinh viên gồm số và chữ, và có độ dài tối đa là 16 kí tự",
				theme: "tooltipster-light"
			});
			
			$("#txtDanToc").tooltipster({
				content: "Mã số sinh viên gồm số và chữ, và có độ dài tối đa là 16 kí tự",
				theme: "tooltipster-light"
			});
			
			$("#txtQuocTich").tooltipster({
				content: "Mã số sinh viên gồm số và chữ, và có độ dài tối đa là 16 kí tự",
				theme: "tooltipster-light"
			});
			
			$("#txtNganhDaoTao").tooltipster({
				content: "Mã số sinh viên gồm số và chữ, và có độ dài tối đa là 16 kí tự",
				theme: "tooltipster-light"
			});
			
			$("#txtGiayKhaiSinh").tooltipster({
				content: "Mã số sinh viên gồm số và chữ, và có độ dài tối đa là 16 kí tự",
				theme: "tooltipster-light"
			});
			
			$("#txtBangCap").tooltipster({
				content: "Mã số sinh viên gồm số và chữ, và có độ dài tối đa là 16 kí tự",
				theme: "tooltipster-light"
			});
			
			$("#txtHtdt").tooltipster({
				content: "Mã số sinh viên gồm số và chữ, và có độ dài tối đa là 16 kí tự",
				theme: "tooltipster-light"
			});
			
			$("#txtDiem").tooltipster({
				content: "Mã số sinh viên gồm số và chữ, và có độ dài tối đa là 16 kí tự",
				theme: "tooltipster-light"
			});
			
			$("#txtXepLoai").tooltipster({
				content: "Mã số sinh viên gồm số và chữ, và có độ dài tối đa là 16 kí tự",
				theme: "tooltipster-light"
			});
			
			$("#txtHoKd").tooltipster({
				content: "Mã số sinh viên gồm số và chữ, và có độ dài tối đa là 16 kí tự",
				theme: "tooltipster-light"
			});
			
			$("#txtTenKd").tooltipster({
				content: "Mã số sinh viên gồm số và chữ, và có độ dài tối đa là 16 kí tự",
				theme: "tooltipster-light"
			});
			
			$("#txtHoTenKd").tooltipster({
				content: "Mã số sinh viên gồm số và chữ, và có độ dài tối đa là 16 kí tự",
				theme: "tooltipster-light"
			});
			
			$("#txtHocKi").tooltipster({
				content: "Mã số sinh viên gồm số và chữ, và có độ dài tối đa là 16 kí tự",
				theme: "tooltipster-light"
			});
			
			$("#txtCthk").tooltipster({
				content: "Mã số sinh viên gồm số và chữ, và có độ dài tối đa là 16 kí tự",
				theme: "tooltipster-light"
			});
			
		});
	</script>
</html>